<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>location</title>
  <style>
    #TLocation {
		width: 750px;
		height: 400px;
		border: 1px solid #000;
	}

	#TMap {
		width: 400px;
		height: 400px;
		float: left;
	}

	#TLocaInfo {
		width: 350px;
		height: 400px;
		background: #999;
		float: left;
	}

	ul{
		list-style:none;
		margin: 0px;
		padding: 0px;
	}
    
	.TLocaText {
		margin: 20px 0 0 20px;
		color: #fff;
	}
  </style>
</head>
<body onload="initLocaInfo()">
  <div id="TLocation">
    <div id="TMap">如无法正常显示地理位置，请选择始终共享位置信息。</div>
	<ul id="TLocaInfo">
      <li class='TLocaText'>您所在的位置是：</li>
	</ul>
  </div>
</body>
<script type="text/javascript">
function initLocaInfo(){
    var loca = new TLocation();
	loca.getMap($("#TMap"));
	loca.getInfo(null, showLocaInfo);
}

function showLocaInfo(info){
   var lati = document.createElement("li");
   lati.className = "TLocaText";
   lati.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;纬度：" + info.latitude;
   $("#TLocaInfo").appendChild(lati);
   
   var longi = document.createElement("li");
   longi.className = "TLocaText";
   longi.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;经度：" + info.longitude;
   $("#TLocaInfo").appendChild(longi);
   
   var alti = document.createElement("li");
   alti.className = "TLocaText";
   alti.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;海拔：" + (info.altitude == null ? "-" : info.altitude);
   $("#TLocaInfo").appendChild(alti);
   
   var time = document.createElement("li");
   time.className = "TLocaText";
   var date = new Date(info.timestamp);
   time.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;获取时间：" + date.shortFormat();
   $("#TLocaInfo").appendChild(time);
}
</script>
<script type="text/javascript" src="../../js/TStyle-old.js"></script>
<script type="text/javascript" src="TLocation.js"></script>
<script type="text/javascript" src=http://maps.google.com/maps/api/js?sensor=false></script>
</html>